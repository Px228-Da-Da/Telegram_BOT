# üìå Telegram-–±–æ—Ç ¬´–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å –∑–∞–¥–∞—á¬ª

–ü—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –≤—ã–¥–∞—á–∏, –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –ø—Ä–∏—ë–º–∫–∏ –∑–∞–¥–∞—á –¥–ª—è —Å—Ç–∞–∂—ë—Ä–æ–≤ –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–π –∫–æ–º–∞–Ω–¥—ã.  
–í—Å—è —Ä–∞–±–æ—Ç–∞ –≤–µ–¥—ë—Ç—Å—è **—á–µ—Ä–µ–∑ Telegram**, –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ–±-–∞–¥–º–∏–Ω–∫–∏.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å** ‚Äî —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞:
  - **PM** (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
  - **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å** (—Å—Ç–∞–∂—ë—Ä)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏** ‚Äî PM –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ Notion, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –±–µ—Ä—É—Ç –∏—Ö –≤ —Ä–∞–±–æ—Ç—É.
- **–¢–∏–ø—ã –∑–∞–¥–∞—á**:
  - **–û—Ç–∫—Ä—ã—Ç—ã–µ** ‚Äî –≤–∏–¥–Ω—ã –≤—Å–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º.
  - **–¢–æ—á–µ—á–Ω—ã–µ** ‚Äî –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º –ø–æ `@username`.
- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á** ‚Äî `–Ω–æ–≤–∞—è ‚Üí –≤ —Ä–∞–±–æ—Ç–µ ‚Üí —Å–¥–∞–Ω–∞ / –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ / –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞`.
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**:
  - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö,
  - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** ‚Äî –ª–∏–º–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –∑–∞–¥–∞—á –Ω–∞ –æ–¥–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∑–∞–¥–∞—á –≤ `.csv` –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏.

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python **3.11+**
- [aiogram](https://docs.aiogram.dev) 3.x
- APScheduler ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- SQLite ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <URL_–≤–∞—à–µ–≥–æ_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd <–Ω–∞–∑–≤–∞–Ω–∏–µ_–ø–∞–ø–∫–∏_–ø—Ä–æ–µ–∫—Ç–∞>
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# Windows
python -m venv .venv
.venv\Scripts\activate

# macOS / Linux
python3 -m venv .venv
source .venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–°–æ–∑–¥–∞–π—Ç–µ `requirements.txt`:

```
aiogram==3.*
apscheduler==3.*
python-dateutil
pytz
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã:
```bash
pip install -r requirements.txt
```

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.py` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```python
# 1. –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–æ—Ç @BotFather)
BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù"

# 2. Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (PM)
PM_IDS = {123456789}

# 3. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∑–∞–¥–∞—á –Ω–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
MAX_ACTIVE_TASKS = 1

# 4. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–º–∏–Ω—É—Ç—ã –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞)
REMINDERS_MIN = [60, 15, 5]

# 5. –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–∫ (—Å–µ–∫)
EXPIRE_SCAN_INTERVAL = 60

# 6. –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ—Ç —Ç–æ—á–µ—á–Ω–æ–π –∑–∞–¥–∞—á–∏
DIRECT_REOPEN_POLICY = "same"  # –∏–ª–∏ "open"

# 7. –ü—É—Ç—å –∫ –ë–î
DB_PATH = "./data/bot.db"

# 8. –ü–∞–ø–∫–∞ –¥–ª—è CSV-—ç–∫—Å–ø–æ—Ä—Ç–æ–≤
EXPORT_DIR = "./exports"

# 9. –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
TIMEZONE = "Europe/Kyiv"
```

### 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã
```bash
python -c "from db import init_db; init_db()"
```
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –µ—Å—Ç—å –ø–∞–ø–∫–∏:
```
./data
./exports
```

### 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python bot.py
```

---

## üìã –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –î–ª—è PM (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
- `/start` ‚Äî –±–æ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—Å –∫–∞–∫ PM –∏ –ø–æ–∫–∞–∂–µ—Ç –∞–¥–º–∏–Ω-–º–µ–Ω—é:
  - **‚ûï –î–æ–±–∞–≤–∏—Ç—å** ‚Äî –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏.
  - **üìã –û—á–µ—Ä–µ–¥—å** ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
  - **‚è≥ –í —Ä–∞–±–æ—Ç–µ** ‚Äî –∫—Ç–æ —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç.
  - **üîé –ü–æ–∏—Å–∫** ‚Äî –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É, URL, username.
  - **üìä –≠–∫—Å–ø–æ—Ä—Ç** ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ CSV –∑–∞ –Ω–µ–¥–µ–ª—é.

### –î–ª—è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- `/start` ‚Äî –±–æ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–∞—Å –∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∂–µ—Ç –º–µ–Ω—é:
  - **üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏.
  - **üéØ –ú–æ–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è** ‚Äî —Ç–æ—á–µ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ username.
  - **üë§ –ú–æ–∏ –∑–∞–¥–∞—á–∏** ‚Äî –≤–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Å–¥–∞—Ç—å –∏–ª–∏ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è.

---

## ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ê–Ω—Ç–∏–¥—É–±–ª—å**  
   –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–µ –∑–∞–¥–∞—á–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º `Notion URL` ‚Üí –≤—Ç–æ—Ä–∞—è –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.

2. **–õ–∏–º–∏—Ç –∑–∞–¥–∞—á**  
   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MAX_ACTIVE_TASKS = 1`. –í–æ–∑—å–º–∏—Ç–µ –∑–∞–¥–∞—á—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∑—è—Ç—å –≤—Ç–æ—Ä—É—é ‚Üí –æ—Ç–∫–∞–∑.

3. **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è**  
   –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É —Å –¥–µ–¥–ª–∞–π–Ω–æ–º `+6m`. –í–æ–∑—å–º–∏—Ç–µ –µ—ë ‚Üí –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ –ø—Ä–∏–¥—ë—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ.

4. **–ü—Ä–æ—Å—Ä–æ—á–∫–∞**  
   –î–µ–¥–ª–∞–π–Ω `+1m`, –Ω–µ —Å–¥–∞–≤–∞–π—Ç–µ –∑–∞–¥–∞—á—É ‚Üí —Å—Ç–∞—Ç—É—Å `expired`, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è PM –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é.

5. **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª**  
   –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å–¥–∞—ë—Ç –∑–∞–¥–∞—á—É ‚Üí PM –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–ü—Ä–∏–Ω—è—Ç—å¬ª ‚Üí —Å—Ç–∞—Ç—É—Å `done`.

6. **–≠–∫—Å–ø–æ—Ä—Ç**  
   –ö–Ω–æ–ø–∫–∞ **üìä –≠–∫—Å–ø–æ—Ä—Ç** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç–µ `.csv` —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ db.py
‚îú‚îÄ‚îÄ keyboards.py
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ common.py
‚îÇ   ‚îú‚îÄ‚îÄ pm.py
‚îÇ   ‚îú‚îÄ‚îÄ exec.py
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ hash.py
‚îÇ   ‚îú‚îÄ‚îÄ time.py
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ bot.db
‚îú‚îÄ‚îÄ exports/
‚îî‚îÄ‚îÄ README.md
```

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ, –Ω–æ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∞.
